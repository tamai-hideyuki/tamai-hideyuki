# 応用コマンド

## 便利系
| コマンド | 挙動 | 補足 |
| --- | --- | --- |
| `git blame <file>` | 行ごとの変更者とコミットを表示 | 原因追跡に便利 |
| `git reflog` | HEADの移動履歴を表示 | 事故復旧で使う |
| `git grep "word"` | リポジトリ内を検索 | 高速検索 |
| `git shortlog -s -n` | コミット数の集計 | 貢献度のざっくり把握 |

## 差分の深掘り
| コマンド | 挙動 | 補足 |
| --- | --- | --- |
| `git diff --word-diff` | 単語単位で差分表示 | テキスト変更確認に便利 |
| `git diff --stat` | 変更ファイルと行数だけ表示 | サマリ確認 |
| `git log -p` | 履歴と差分を同時表示 | 変更の流れを見る |

## 取り消し・復旧
| コマンド | 挙動 | 補足 |
| --- | --- | --- |
| `git revert <hash>` | 指定コミットを打ち消す | 履歴を残して戻す |
| `git reset --hard <hash>` | 指定時点へ完全に戻す | 破壊的なので注意 |
| `git restore --source <hash> <path>` | 過去の状態に戻す | ファイル単位で復元 |

## リモート連携
| コマンド | 挙動 | 補足 |
| --- | --- | --- |
| `git fetch --prune` | 消えたリモートブランチを整理 | 定期的に便利 |
| `git push --force-with-lease` | 安全寄りの強制push | 競合時は失敗する |

## 作業効率
| コマンド | 挙動 | 補足 |
| --- | --- | --- |
| `git stash -u` | 追跡外も含めて退避 | 作業切替に便利 |
| `git worktree add ../repo-branch <branch>` | 別ディレクトリに作業ツリー追加 | 並行作業向け |
