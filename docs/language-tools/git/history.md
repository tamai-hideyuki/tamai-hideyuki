# Gitの歴史（トレードオフで理解する）

## 背景: Gitが生まれた理由（2005年）
Gitは**Linuxカーネル開発**のために、Linus Torvaldsが2005年に設計した分散型VCS。  
当時のLinux開発は、**世界中の開発者が同時並行で巨大なコードベースを扱う**状況で、  
**高速・安全・オフライン前提**が必須だった。  

一方で、カーネル開発で使われていた**BitKeeperの無償利用が終了**し、  
OSSとして代替できる高速DVCSが必要になった。  
この出来事をきっかけにGitの開発が始まった。  

参照: [GitのHistory](https://en.wikipedia.org/wiki/Git?utm_source=openai), [BitKeeperの経緯](https://en.wikipedia.org/wiki/BitKeeper?utm_source=openai)

---

## Git誕生前の問題点

### 1. 中央集権型VCS（CVS / Subversion）
**問題**
- 中央サーバーが落ちると作業不能
- ブランチ・マージが重い／怖い
- 履歴が「差分の集合」で壊れやすい

**トレードオフ**
- 構造は単純
- ただし「大規模・分散開発」に弱い

### 2. BitKeeper（当時Linuxで使われていた）
**良かった点**
- 分散型
- 高速
- マージが比較的強い

**致命的問題**
- プロプライエタリ（商用）
- ライセンス問題でLinuxが使えなくなった

---

## Gitの設計思想（ここが本質）
Gitは**使いやすさより以下を最優先**した。  

1. **完全な分散**
2. **改ざん耐性**
3. **圧倒的な速度**

このために、いくつかの大胆なトレードオフを取っている。

参照: [Gitの設計目標](https://en.wikipedia.org/wiki/Git?utm_source=openai)

---

## トレードオフ①: 人間に優しくない内部構造

### 問題
- 差分管理は遅い・壊れやすい
- ファイル単位の履歴追跡が信用できない

### Gitの解決策
👉 **すべてを「スナップショット」として保存**

- コミット = プロジェクト全体の状態
- 差分ではなく「状態の連鎖」

**トレードオフ**
- 初見では概念が難しい
- `.git`内部が直感的でない

**得たもの**
- 高速チェックアウト
- 完全な履歴再現
- ブランチが超軽い

参照: [Gitのデータモデル](https://git-scm.com/book/en/v2/Git-Internals-Git-Objects?utm_source=openai)

---

## トレードオフ②: SHA-1によるハッシュ管理

### 問題
- 履歴改ざんをどう防ぐ？
- 分散環境で「正しさ」をどう保証する？

### Gitの解決策
👉 **すべてをハッシュで識別**

- コミット／ツリー／blobがSHA-1で識別される
- 履歴はハッシュで鎖状につながる

**トレードオフ**
- 人間には読めない
- 操作ミス時の復旧が難しい

**得たもの**
- 改ざん検知
- 完全性保証

※ SHA-1衝突問題を受け、現在は**SHA-256への移行が進行中**。  
参照: [hash-function-transition](https://git-scm.com/docs/hash-function-transition?utm_source=openai)

---

## トレードオフ③: CLI前提・学習コスト高

### 問題
- 学習コストが高い
- `rebase`, `reset`, `checkout` などが直感的でない

### Gitの思想
👉 **「理解して使う人向けの道具」**

**トレードオフ**
- 初心者には厳しい
- 誤操作で履歴を書き換えられる

**得たもの**
- 超高い自由度
- ワークフローを強制しない

---

## トレードオフ④: ブランチ運用の自由すぎ問題

### 問題
- ルールがなければカオス
- チームごとに運用がバラバラ

### 解決の方向性（Git本体ではなく周辺）
- Git-flow
- GitHub Flow
- Trunk-based development
- PR文化

👉 **Gitは「仕組み」だけ提供し、運用は外に出した**

---

## 進化の歴史（概略）

### 初期（2005）
- 高速・分散・安全を最優先
- UXは二の次
- 2005年12月21日にGit 1.0が公開  
参照: [Git 1.0.0 release](https://lwn.net/Articles/165127/?utm_source=openai)

### 普及期
- GitHub登場でUXが補完され、PR文化が定着

### 現代
- 大規模CI/CDとの統合
- セキュリティ強化（署名付きコミット）
- SHA-256対応の移行が進行中

---

## まとめ: Gitとは何か？
Gitは  

> **「人間のための道具」ではなく  
> 「大規模・分散・信頼性」のための基盤」**

その結果として:
- 難しい
- でも壊れにくい
- 圧倒的に速い
- 自由度が高い

という性格を持った。
